
root outfile  out.root



root file  ../../PFProducer/test/candidates.root

// name of the branches of the input TTree. 

// ECAL rechits branch
root rechits_ECAL_branch  recoPFRecHits_particleFlowCluster_ECAL_BLOCK.obj
// HCAL rechits branch
root rechits_HCAL_branch  recoPFRecHits_particleFlowCluster_HCAL_BLOCK.obj
// PS rechits branch
root rechits_PS_branch    recoPFRecHits_particleFlowCluster_PS_BLOCK.obj

// ECAL clusters branch
root clusters_ECAL_branch  recoPFClusters_particleFlowCluster_ECAL_BLOCK.obj
// HCAL clusters branch
root clusters_HCAL_branch  recoPFClusters_particleFlowCluster_HCAL_BLOCK.obj
// PS clusters branch
root clusters_PS_branch    recoPFClusters_particleFlowCluster_PS_BLOCK.obj


// root clusters_island_barrel_branch recoBasicClusters_islandBasicClusters_islandBarrelBasicClusters_BLOCK.obj

// root caloTowers_branch     CaloTowersSorted_towerMaker__BLOCK.obj

// reconstructed tracks branch
root recTracks_branch      recoPFRecTracks_elecpreid__BLOCK.obj
root stdTracks_branch      recoTracks_trackRefitter__BLOCK.obj

// true particles branch
root trueParticles_branch  recoPFSimParticles_particleFlowSimParticle__BLOCK.obj

// display parameters ----------------------------------------------------

// display clusters of type 2 (particle flow clusters)
display  cluster_algos 2
display  cluster_lines 0

// size of the eta/phi canvas 
display  viewsize_etaphi 400 200
// size of the x/y canvas  
display  viewsize_xy     400 400

// display the color of the clusters yes/no
// if yes, the color is equal to the type (type 2 -> red)
display  color_clusters		1

// when the function PFRootEventManager::lookForMaxRecHit is used
// the eta/phi display zooms to the rechit with maximum energy. 
// display/zoom_factor roughly gives the size of the view around this rechit
// in number of ecal cells	
display  zoom_factor		15

// display reconstructed tracks yes/no
display  rectracks              1
// display true particles yes/no
display  particles              1              

// display x/y view yes/no
display  x/y      1
// display eta/phi view yes/no
display  eta/phi  1
// display r/z view yes/no
display  r/z      1

// filter ------------------------------------------------------------

filter   nparticles  0

// clustering parameters ---------------------------------------------------

// perform clustering yes/no. If no, clusters are read from the TTree
clustering on/off 1 

// print debug printouts from the clustering algorithm
clustering debug 0
rootevent debug 0

//Find RecHits neighbours: Need to be set to false if using 
//a version of the clustering using indexes (i.e. after revision 1.20
//of PFClusterAlgo).
clustering findRecHitNeighbours 0

// threshold on ECAL barrel rechits. Note that a threshold might have
// been applied already, see RecoParticleFlow/PFProducer/data/particleFlow.cff

clustering thresh_Ecal_Barrel           0.08

// seed threshold for ECAL barrel rechits
clustering thresh_Seed_Ecal_Barrel     	0.23

// threshold on ECAL endcap rechits.
clustering thresh_Ecal_Endcap           0.3

// seed threshold for ECAL endcap rechits
clustering thresh_Seed_Ecal_Endcap      0.8

// number of neighbours to be considered for seed finding in ECAL. 
// 4 means that it is checked that the 4 direct neighbours 
// have a lower energy than the seed. 
// If set to 8, it is also checked that the diagonal neighbours have a 
// lower energy.
clustering neighbours_Ecal		8

// number of crystals around the seed used in the position calculation
// can be -1 (all crystals), 5, 9
clustering posCalc_nCrystal_Ecal        9
clustering posCalc_p1_Ecal              -1

// width of shower in ecal, cm
clustering shower_Sigma_Ecal		5

// depth correction flag. 0:off, 1:e/gamma mode 2:hadron mode
// depth correction is only active in ECAL, which has non pointing cells
// in mode 1, depth = A * (B + log(E))
// in mode 2, depth = A (to be set correctly !!)
clustering depthCor_Mode          1
clustering depthCor_A 		  0.89
clustering depthCor_B 		  7.4
// depth correction parameters under the preshower
clustering depthCor_A_preshower   0.89
clustering depthCor_B_preshower   4.0

// threshold on HCAL barrel rechits
clustering thresh_Hcal_Barrel           0.8
// seed threshold for HCAL barrel rechits
clustering thresh_Seed_Hcal_Barrel      1.4
// threshold on HCAL endcap rechits
clustering thresh_Hcal_Endcap           0.8
// seed threshold for HCAL endcap rechits
clustering thresh_Seed_Hcal_Endcap      1.4


// number of neighbours to be considered for seed finding in HCAL. 
// 4 means that it is checked that the 4 direct neighbours 
// have a lower energy than the seed. The other possibility is 8. 
// If set to 8, it is also checked that the diagonal neighbours have a 
// lower energy.
clustering neighbours_Hcal		4
clustering posCalc_p1_Hcal            1.0 
clustering posCalc_nCrystal_Hcal        5

// width of shower in Hcal, cm
clustering shower_Sigma_Hcal	       10

// threshold on preshower rechits
clustering thresh_PS			0.0001
// seed threshold for preshower rechits
clustering thresh_Seed_PS		0.0005

clustering posCalc_p1_PS                0

// particle flow parameters ----------------------------------------------


particle_flow resolution_map_ECAL_eta $CMSSW_BASE/share/RecoParticleFlow/PFBlockProducer/data/resmap_ECAL_eta.dat
particle_flow resolution_map_ECAL_phi $CMSSW_BASE/share/RecoParticleFlow/PFBlockProducer/data/resmap_ECAL_phi.dat
particle_flow resolution_map_HCAL_eta $CMSSW_BASE/share/RecoParticleFlow/PFBlockProducer/data/resmap_HCAL_eta.dat
particle_flow resolution_map_HCAL_phi $CMSSW_BASE/share/RecoParticleFlow/PFBlockProducer/data/resmap_HCAL_phi.dat

// chi2 maximum limit for ECAL/Track association
particle_flow chi2_ECAL_Track   50
// chi2 maximum limit for HCAL/Track association
particle_flow chi2_HCAL_Track	50
// chi2 maximum limit for ECAL/HCAL assoiation
particle_flow chi2_ECAL_HCAL	10

// number of sigmas for neutral energy detection
particle_flow   nsigma_neutral    3

//calibration
particle_flow   ecalib 0.11 1.07

// print flags ------------------------------------------------------------
// for PFRootEventManager::print()

// print rechits yes/no
print rechits  0
// print clusters yes/no
print clusters 1
// print particle flow blocks yes/no
print PFBs     0
// print true particles yes/no
print true_particles     0

// verbosity 
print verbosity 0

//Jet Algorithm options ---------------------------------------------------
//making jets from PF objects yes/no
jets dojets 1

//cone size
jets cone_angle 0.5

//Et threshold
jets seed_et 0.4

//distance threshold for merging jets
jets cone_merge 100

//debug yes/no
jets jets_debug 0	
